<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="600" height="400" fill="#f9f9f9"/>

  <!-- Title -->
  <text x="300" y="30" font-family="Arial" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">
    Wiring Diagram - Toggle Switch (Door Sensor)
  </text>

  <!-- ESP32-S3 Board -->
  <rect x="220" y="80" width="160" height="240" fill="#2c3e50" stroke="#000" stroke-width="2" rx="5"/>
  <text x="300" y="105" font-family="Arial" font-size="14" font-weight="bold" text-anchor="middle" fill="#fff">
    ESP32-S3
  </text>

  <!-- USB Port -->
  <rect x="285" y="60" width="30" height="20" fill="#silver" stroke="#000" stroke-width="1"/>
  <text x="300" y="52" font-family="Arial" font-size="10" text-anchor="middle" fill="#666">
    USB
  </text>

  <!-- Pin Labels on ESP32 -->
  <circle cx="240" cy="140" r="4" fill="#ffd700"/>
  <text x="255" y="145" font-family="Arial" font-size="11" fill="#fff">3.3V</text>

  <circle cx="240" cy="170" r="4" fill="#4CAF50"/>
  <text x="255" y="175" font-family="Arial" font-size="11" fill="#fff">GPIO 4</text>

  <circle cx="240" cy="200" r="4" fill="#888"/>
  <text x="255" y="205" font-family="Arial" font-size="11" fill="#fff">GND</text>

  <!-- Switch/Sensor -->
  <rect x="80" y="150" width="80" height="60" fill="#e74c3c" stroke="#000" stroke-width="2" rx="5"/>
  <text x="120" y="175" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">
    Door
  </text>
  <text x="120" y="195" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#fff">
    Sensor
  </text>

  <!-- Switch terminals -->
  <circle cx="100" cy="220" r="4" fill="#333"/>
  <circle cx="140" cy="220" r="4" fill="#333"/>

  <!-- Wiring -->
  <!-- 3.3V to Switch -->
  <line x1="240" y1="140" x2="200" y2="140" stroke="#ffd700" stroke-width="3"/>
  <line x1="200" y1="140" x2="200" y2="220" stroke="#ffd700" stroke-width="3"/>
  <line x1="200" y1="220" x2="140" y2="220" stroke="#ffd700" stroke-width="3"/>

  <!-- Switch to GPIO4 -->
  <line x1="100" y1="220" x2="60" y2="220" stroke="#4CAF50" stroke-width="3"/>
  <line x1="60" y1="220" x2="60" y2="170" stroke="#4CAF50" stroke-width="3"/>
  <line x1="60" y1="170" x2="240" y2="170" stroke="#4CAF50" stroke-width="3"/>

  <!-- Wire Labels -->
  <text x="170" y="135" font-family="Arial" font-size="10" fill="#666">3.3V</text>
  <text x="65" y="195" font-family="Arial" font-size="10" fill="#666">GPIO 4</text>

  <!-- Legend -->
  <rect x="420" y="120" width="150" height="150" fill="#fff" stroke="#ccc" stroke-width="1" rx="3"/>
  <text x="495" y="140" font-family="Arial" font-size="12" font-weight="bold" text-anchor="middle" fill="#333">
    Toggle Mode
  </text>

  <text x="430" y="165" font-family="Arial" font-size="10" fill="#666">
    • Closed = HIGH (3.3V)
  </text>
  <text x="430" y="185" font-family="Arial" font-size="10" fill="#666">
    • Open = LOW (0V)
  </text>
  <text x="430" y="210" font-family="Arial" font-size="10" fill="#666">
    • Notify on both
  </text>
  <text x="430" y="230" font-family="Arial" font-size="10" fill="#666">
    state changes
  </text>
  <text x="430" y="255" font-family="Arial" font-size="9" fill="#999">
    Pull-down enabled
  </text>

  <!-- Notes -->
  <text x="300" y="360" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">
    Use for: Door sensors, window sensors, power monitors
  </text>
  <text x="300" y="380" font-family="Arial" font-size="11" text-anchor="middle" fill="#666">
    Default GPIO: 4 (configurable via web interface)
  </text>
</svg>
